{
    "provider": "node",
    "packages": {
        "node": "22",
        "python": "3.13",
        "uv": "0.9.16"
    },
    "steps": {
        "include": ["/"],
        "install": {
            "commands": ["npm install --omit=dev", "uv sync --locked --no-dev --no-install-project"]
        },
        "build": {
            "commands": ["npx tailwindcss -i ./static/tailwind.css -o ./static/main.css --minify", "uv sync --locked --no-dev --no-editable"]
        }
    },
    "deploy": {
        "startCommand": "uv run src/core/db_check.py && gunicorn --bind 0.0.0.0:$PORT main:app"
    }
}
